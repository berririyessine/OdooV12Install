<odoo>
  <template t-name="account.report_invoice_document">
    <!-- <t t-call="web.external_layout"> -->
    <t t-set="o" t-value="o.with_context(lang=o.partner_id.lang)"/>
    <div class="page">
        <!-- debut entet -->
            <div class="row" style="padding-left:19px;">
              <div class="col-xs-5" style="margin-right:10px;">
                <!-- Information STE -->
                <div class="row">
                  <br/>
                      <div>
                    <h3 style="color:black;">  <span  t-field="o.company_id.name" /></h3>
                      </div>
                      <div style="font-size:14px;color:black;">
                      <b>   <span>Adresse :</span> </b> <span  t-field="o.company_id.street" />
                      </div>
                      <div style="font-size:14px;color:black;">
                      <b>   <span>TÈl :</span> </b> <span  t-field="o.company_id.phone" />
                      </div>
                      <div style="font-size:14px;color:black;">
                      <b>   <span>E-mail :</span> </b>  <span  t-field="o.company_id.email" />
                      </div>
                      <div style="font-size:14px;color:black;">
                  <b>    <span>M.F :</span> </b>  <span  t-field="o.company_id.vat" />
                      </div>
                      <div style="font-size:14px;color:black;">
                  <b>       <span>RIB :</span>    </b>  <span  t-field="o.company_id.RIB" />
                      </div>
                </div>
                <br/>
                <br/>
                  <!-- insertion tableau 2 ligne -->
                  <div class="row" style="border:1px solid black; padding-top:1px;padding-bottom:1px;padding-left:8px;border-color: rgba(255,255,255,.5); " >
                    <!-- Num Devis -->
                    <div style="padding-top:1px;padding-bottom:1px;">
                      <h2 style="color:black;"><b>

                          <span>Facture N°  </span>
                        <span t-esc="o.number [4:]"/>
                      </b></h2><br/>
                    </div>
                  </div>
                  <div class="row" >
                    <!-- Du & Validité de loffre -->
                    <div style="padding-left:10px;border:1px solid black;border-color: rgba(255,255,255,.5);">
                      <div class="row">
                        <div>
                            <!-- <div style="padding-top:1px;padding-bottom:1px;padding-left:20px;font-size:14px;color:black;">
                              <t t-if="o.date_invoice">
                            <strong style="font-size:14px;color:black;" >Date: </strong>
                          <span t-field="o.date_invoice">
                            </t> -->

                          <div name="payment_term">
                          </div>
                            <t t-if="o.date_due">
                            <strong style="font-size:14px;color:black;">Date d'échéance:</strong>
                            <span t-field="o.date_due"> Date d'échéance: </span>
                          </t>
                        </div>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
                <div>
                </div>
                <div class="col-xs-7"  style="width:57%;">
                  <div class="row">
                    <!-- insertion logo -->
                  <center>  <img t-if="o.company_id.logo" t-att-src="'data:image/png;base64,%s' % to_text(o.company_id.logo)"  width="400px" height="150px" /> </center>
                    </div>
                    <br/>
                  <div class="raw" style="border:1px solid black;padding-top:15px;padding-bottom:20px;padding-left:8px;">
                  <!-- information Client -->
                  <div style="font-size:20px;padding-left:15px;;color:black;">
                    <b> <span  t-field="o.partner_id.name" /> </b>
                  </div>
                  <table style="border-color: rgba(255,255,255,255); " >
                  <tr>
                  <td style="border-color: rgba(255,255,255,255);padding-left:17px;font-size:14px;color:black;" > Adresse</td>

                   <td style="border-color: rgba(255,255,255,255);padding-left:7px;font-size:14px;color:black; " >:  </td>

                   <td style="border-color: rgba(255,255,255,255);padding-left:5px;font-size:14px;color:black; " >   <span  t-field="o.partner_id.street" /></td>
                   <!-- <td style="border-color: rgba(255,255,255,255); " ></td> -->
                 </tr>
                 <tr>
                  <td style="border-color: rgba(255,255,255,255);padding-left:17px;font-size:14px;color:black;" > Téléphone</td>
                  <td style="border-color: rgba(255,255,255,255); padding-left:7px;font-size:14px;color:black;" >:  </td>
                  <td style="border-color: rgba(255,255,255,255);padding-left:5px;font-size:14px;color:black; " > <span  t-field="o.partner_id.phone" /></td>
                  <!-- <td style="border-color: rgba(255,255,255,255); " ></td> -->
                </tr>
                <tr>
                  <td style="border-color: rgba(255,255,255,255);padding-left:17px;font-size:14px;color:black;" > E-mail </td>
               <td style="border-color: rgba(255,255,255,255); padding-left:7px;font-size:14px;color:black;" >:  </td>
                  <td style="border-color: rgba(255,255,255,255);padding-left:5px;font-size:14px;color:black; " ><span  t-field="o.partner_id.email" /></td>
                  <!-- <td style="border-color: rgba(255,255,255,255); " ></td> -->
                </tr>
                <tr>
                  <td style="border-color: rgba(255,255,255,255);padding-left:17px;font-size:14px;color:black;" > MF </td>
               <td style="border-color: rgba(255,255,255,255);padding-left:7px; font-size:14px;color:black;" >:  </td>
                  <td style="border-color: rgba(255,255,255,255);padding-left:5px;font-size:14px;color:black; " ><span  t-field="o.partner_id.vat" /></td>
                  <!-- <td style="border-color: rgba(255,255,255,255); " ></td> -->
                </tr>
                <tr>
                  <td style="border-color: rgba(255,255,255,255);padding-left:17px;font-size:14px;color:black;" > RIB </td>
               <td style="border-color: rgba(255,255,255,255);padding-left:7px;font-size:14px;color:black; " >:  </td>
                  <td style="border-color: rgba(255,255,255,255);padding-left:5px; font-size:14px;color:black;" ><span  t-field="o.partner_id.RIB" /></td>
                  <!-- <td style="border-color: rgba(255,255,255,255); " ></td> -->
                </tr>
                  </table>
                </div>
                </div>
              </div>

        <!-- fin entete    -->

        <div class="row">
          <div name="invoice_address" class="col-xs-5 col-xs-offset-7">
            <!-- <address t-field="o.partner_id" t-options="{&quot;widget&quot;: &quot;contact&quot;, &quot;fields&quot;: [&quot;address&quot;, &quot;name&quot;], &quot;no_marker&quot;: True}"/> -->
            <!-- <div t-if="o.partner_id.vat" class="mt16"><t t-esc="o.company_id.country_id.vat_label or 'TIN'"/>: <span t-field="o.partner_id.vat"/></div> -->
          </div>
        </div>

        <!-- <h2>
          <span t-if="o.type == 'out_invoice' and (o.state == 'open' or o.state == 'paid')">Invoice</span>
          <span t-if="o.type == 'out_invoice' and o.state == 'draft'">Draft Invoice</span>
          <span t-if="o.type == 'out_invoice' and o.state == 'cancel'">Cancelled Invoice</span>
          <span t-if="o.type == 'out_refund'">Credit Note</span>
          <span t-if="o.type == 'in_refund'">Vendor Credit Note</span>
          <span t-if="o.type == 'in_invoice'">Vendor Bill</span>
          <span t-field="o.number"/>
        </h2> -->

        <div class="row mt32 mb32">
          <div class="col-xs-2" t-if="o.name">
            <!-- <strong>Description:</strong>
            <p t-field="o.name"/> -->
          </div>
          <div class="col-xs-2" t-if="o.date_invoice">
            <!-- <strong>Invoice Date:</strong>
            <p t-field="o.date_invoice"/> -->
          </div>
          <div class="col-xs-2" t-if="o.date_due and o.type == 'out_invoice' and (o.state == 'open' or o.state == 'paid')">
            <!-- <strong>Due Date:</strong>
            <p t-field="o.date_due"/> -->
          </div>
          <div class="col-xs-2" t-if="o.origin">
            <!-- <strong>Source:</strong>
            <p t-field="o.origin"/> -->
          </div>
          <div class="col-xs-2" t-if="o.partner_id.ref">
            <!-- <strong>Customer Code:</strong>
            <p t-field="o.partner_id.ref"/> -->
          </div>
          <div name="reference" class="col-xs-2" t-if="o.reference">
            <!-- <strong>Reference:</strong>
            <p t-field="o.reference"/> -->
          </div>
        </div>

        <!-- Is there a discount on at least one line? -->
        <t t-set="display_discount" t-value="any([l.discount for l in o.invoice_line_ids])"/>

        <table class="table table-condensed" name="invoice_line_table">
          <thead>
            <tr>
              <!-- <th style="font-size:14px;color:black;"><center>Ref</center></th> -->
              <th style="font-size:14px;color:black;"><center>Désignation</center></th>
              <th class="hidden" style="font-size:14px;color:black;">Source Document</th>
              <th class="text-center" style="font-size:14px;color:black;">Qté</th>
              <th class="text-center" style="font-size:14px;color:black;">P.U.HT</th>
              <th t-if="display_discount" class="text-center">Disc.(%)</th>
              <th class="text-center" style="font-size:14px;color:black;">TVA</th>
              <th class="text-center" style="font-size:14px;color:black;">Prix H.T</th>
            </tr>
          </thead>
          <tbody class="invoice_tbody">
            <tr t-foreach="o.invoice_line_ids" t-as="l">
              <!-- <td style="font-size:14px;color:black;" class="text-center"><span t-field="l.product_id.default_code"/></td> -->
                <td style="font-size:14px;color:black;"><span t-field="l.product_id.name"/></td>
              <td class="hidden" style="font-size:14px;color:black;"><span t-field="l.origin"/></td>
              <td class="text-center" style="font-size:14px;color:black;">
                <span t-field="l.quantity"/>
                <span t-field="l.uom_id" groups="product.group_uom"/>
              </td>
              <td class="text-right" style="font-size:14px;color:black;">
                <span t-field="l.price_unit"/>
              </td>
              <td t-if="display_discount" class="text-right" style="font-size:14px;color:black;">
                <span t-field="l.discount"/>
              </td>
              <td class="text-center" style="font-size:14px;color:black;">
                <span t-esc="', '.join(map(lambda x: (x.description or x.name), l.invoice_line_tax_ids))"/>
              </td>
              <td class="text-right" id="subtotal" style="font-size:14px;color:black; background-color: white !important">
                <span t-field="l.price_subtotal" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}"/>
              </td>
            </tr>
            <tr t-foreach="range(max(5-len(o.invoice_line_ids),0))" t-as="l">
              <td t-translation="off" style="font-size:14px;color:black;">&amp;nbsp;</td>
              <td class="hidden"/>
              <td/>
              <td/>
              <td t-if="display_discount"/>
              <td />
              <td/>
              <td/>
            </tr>
          </tbody>
        </table>
        <div class="row" >
          <div class="col-xs-8">
            <p style="font-size:18px;color:black;">
              <br/><br/>
              <strong>Arrété le présent facture à la somme de : </strong>
             <!-- <span t-esc="o.get_amount_letter()"/> <span> .</span> -->

           </p>
          </div>

        <div class="clearfix">
          <div id="total" class="row">
            <div class="col-xs-4 pull-right" style="padding-right:31px;">
              <table class="table table-condensed" style="min-width: 250px;max-width: 400px;page-break-inside: avoid;">
                <tr class="border-black" style="border-bottom:1px solid #dddddd;">
                  <td style="font-size:14px;color:black;"><strong>Total H.T</strong></td>
                  <td class="text-right" style="font-size:14px;color:black;">
                    <span t-field="o.amount_untaxed" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}"/>
                  </td>
                </tr>

                  <tr style="border-bottom:1px solid #dddddd;">
                    <td style="font-size:14px;color:black;"><strong>Total TVA</strong></td>
                    <td style="font-size:14px;color:black;" class="text-right"><span t-field="o.amount_tax"/></td>
                    <!-- <t t-if="len(o.tax_line_ids) == 1 and o.amount_untaxed == amount_by_group[2]">
                      <td style="font-size:14px;color:black;"><span t-esc="amount_by_group[0]"/></td>
                      <td class="text-right" style="font-size:14px;color:black;">
                        <span t-esc="amount_by_group[3]"/>
                      </td>
                    </t> -->
                    <!-- <t t-else="">
                       <td>
                        <span t-esc="amount_by_group[0]"/>
                        <span>&amp;nbsp;<span>on</span>
                        <t t-esc="amount_by_group[4]"/>
                      </span>
                    </td> -->
                    <!-- <td class="text-right">
                      <span t-esc="amount_by_group[3]"/>
                    </td> -->

                </tr>
                <tr class="border-black" style="border-bottom:1px solid #dddddd;">
                  <td  style="font-size:14px;color:black;"><strong>Timbre Fiscal</strong></td>
                  <td class="text-right"  style="font-size:14px;color:black;">
                    <span >0.600 DT</span>
                    <!-- <span t-field="o.timbre_id"/> -->
                  </td>
                </tr>
              <tr class="border-black">
                <td style="font-size:14px;color:black;"><strong>Total TTC</strong></td>
                <td class="text-right" style="font-size:14px;color:black;"><strong>
                <span t-field="o.amount_total" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}"/>  </strong>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </div>
    <br/>
    <div class="row" >
      <div class="col-xs-9">
      </div>
      <div class="col-xs-3" style="padding-right:11px;">
          <p  style="font-size:20px"> <strong> <center> Signature et Cachet</center></strong> </p>
      </div>
    </div>

    <div class="oe_structure"/>

<div class="footer last-page">
<div class="text-center" style="border-top: 1px solid Gainsboro;">
        <ul class="list-inline" name="financial_infos">
          <br/>
         <center>  <span  t-field="o.company_id.name" /> </center>
         <br/>
            <li><center> TÈl : <span  t-field="o.company_id.phone" /> -
            RIB :
            <span  t-field="o.company_id.RIB" />
             - E-mail : <span  t-field="o.company_id.email" /></center></li>
        </ul>

    </div>
</div>



    </div>
  <!-- </t> -->
</template>
</odoo>
